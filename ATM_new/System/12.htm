<html>
<body background="fon2.bmp" bgproperties=fixed>
<p align=center><font size="6" face="Arial" color=green><b>Эталонная модель АТМ<br>ФИЗИЧЕСКИЙ УРОВЕНЬ</b></font></p>
<hr>
<font color=navy>
<b>
<font color=black><b>Содержание</b></font>
<font color=blue><b>
<lu>
  <li><a href=#mark1>Функции</a>
  <li><a href=#mark2>Подуровень конвергении: адаптация скорости</a>
  <li><a href=#mark3>Подуровень конвергенции: защита заголовка</a>
  <li><a href=#mark4>Подуроваень конвергенции: выделение ячеек</a>
  <li><a href=#mark5>Подуровень, зависящий от физической среды: скремблирование ячеек</a>
</lu>
</font>
<font color=navy>
<hr>

<a  name=mark1><p align=center><b><font color=red size=5><a href='12.htm'>Функции уровня</a></b></font></p>

<p style='text-indent:20'>Физический уровень является нижним уровнем протокольного стека ATM, определяющим интерфейс между потоком ячеек АТМ и физической средой. Физический уровень состоит из двух подуровней:</p>

<ol>
<li> подуровня конвергенции с системой передачи,
<li> подуровня, зависящего от физической среды.
</ol>

<p style='text-indent:20'><font color=red>Подуровень, зависящий от физической среды</font>, отвечает за кодирование, декодирование, скремблирование и адаптацию к среде.</p>

<p style='text-indent:20'><font color=red>Подуровень конвергенции</font> управляет адаптацией скорости передачи битов, защитой заголовка, выделением ячейки и адаптацией к структуре физической среды.</p>

<a  name=mark2><p align=center><b><font color=red size=5><a href='12.htm'>Адаптация скорости передачи.</a></b></font></p>

<p style='text-indent:20'>Скорость передачи битов потока мультиплексированных ячеек, сформированного уровнем АТМ, обычно не равна рабочей скорости передачи битов в физическом звене доступа. Поэтому необходима адаптация скорости, которая носит название <font color=red>стаффинга</font> или выравнивания. Различные варианты исполнения этой адаптации можно сгруппировать в три основных способа, третий из них в действительности является комбинацией двух первых.</p>

<ol>
<li> Для генерации непрерывного потока ячеек в него вводятся пустые ячейки. В случае цикловой системы передачи результирующий поток соответствует полезной нагрузке звена передачи (например, <a href=#mark11>синхронные циклы SDH</a>), если же звено передачи ориентировано на ячейки, он равен общей скорости передачи битов в звене. Этот метод ввода был предложен МККТТ для широкополосной ISDN.
<li> Поток ячеек может оставаться прерывистым; этот тип потока в основном встречается в локальных сетях АТМ. Так как интервал между ячейками может быть любой длины, для адаптации скорости передачи битов могут быть введены биты стаффинга. Этот метод используется, например, для передачи ячеек АТМ в инфраструктуре, использующей физический уровень FDDI на скорости 100 Мбит/с.
<li> Комбинация двух передающих способов состоит в группировании постоянного числа ячеек в блоки, которые могут содержать пустые ячейки. Интервалы между этими блоками могут быть заполнены переменным числом байтов стаффинга, чтобы гарантировать строгую последовательность блоков через 125 мкс каждый; этот способ используется для передачи ячеек АТМ по каналам <a href=#mark12>плезиохронной цифровой иерархии PDH</a> (Plesiochronous Digital Hierarchy).
</ol>

<a  name=mark11><p align=center><b><font color=red size=5><a href='12.htm'>Адаптация к системе передачи SDH.</a></b></font></p>

<p style='text-indent:20'>Адаптация имеет место на уровне трактов. Рекомендация МККТТ I.432 определяет размещение среды в циклах STM-1 при скорости 155,520 Мбит/с (так же, как и в циклах STM-4 при скорости 622,080 Мбит/с).</p>

<p style='text-indent:20'>Синхронный цикл STM-1 каждые 125 мкс (155520 кбит/с) предоставляет емкость 2430 байт. Эти 2430 байт располагаются в 270 столбцах и 9 рядах и передаются ряд за рядом. Первые девять рядов (81 байт) не несут данных и содержат вспомогательную информацию для выделения и административного управления циклом. На рисунке  изображена структура синхронного цикла  STM-1.</p>

<p align=center><image src="image0F1.gif"></p>
<p align=center>Рисунок 1.</p>

<p style='text-indent:20'>Оставшиеся 2349 байт формируют виртуальный контейнер четвертого порядка VC-4, состоящий из столбцов (9 байт), которые содержат вспомогательную информацию тракта РОН (Path OverHеad), и сам контейнер, обеспечивающий пропускную способность 2340 байт каждые 125 мкс (149760 кбит/с). Вспомогательная информация тракта используется для выполнения функций административного управлений (проверка на четность в тракте, тип полезной нагрузки и т. п.). Байт С2 предназначен для указания о размещении ячеек АТМ в контейнере С-4.</p>

<p style='text-indent:20'>В полезной нагрузке 2340 байт нельзя разместить целое число 53-байтовых ячеек. К тому же поток ячеек непрерывно размещается в контейнере С-4 так, что некоторые из них частично попадают в смежный цикл (рисунок 2). При таком типе размещения выделение ячеек основывается на поле НЕС.</p>

<p align=center><image src="image0F2.gif"></p>
<p align=center>Рисунок 2.</p>

<a  name=mark12><p align=center><b><font color=red size=5><a href='12.htm'>Адаптация к систем передачи PDH</a></b></font></p>

<p style='text-indent:20'>Порядок размещения ячеек в кадрах PDH для скоростей 1,544, 2,048, 6,132, 34,360, 97,728 и 139,264 Мбит/с определяется рекомендациями СС МСЭ G.804. </p>

<p style='text-indent:20'>Существует несколько принципов укладки ячеек. Один из способов состоит в простом размещении ячеек в поле полезной нагрузки цикла PDH. Рекомендациями СС МСЭ G.707 определен кадр сигнала 1,5/2 Мбит/с, используемый для транспортирования ячеек АТМ путем размещения ячеек во временные слоты от 1 до 24 для 1,5 Мбит/с и от 17 до 31 для 2 Мбит/с соответственно. Структура кадра PDH для 34,368 Мбит/с показана на рисунке 8. Каждый кадр имеет поле полезной нагрузки, равное 530 байтам, и 7 байт служебной нагрузки. В поле полезной нагрузки размещается ровно 10 ячеек АТМ. Служебные байты FA1, FA2, …, GC используются в технологических операциях PDH. Таким образом пропускная способность тракта Е3 33,92  Мбит/с.</p>

<p align=center><image src="image0F3.gif"></p>
<p align=center>Рисунок 3.</p>

<p style='text-indent:20'>Для передачи ячеек по каналам DS3 со скоростью 44,736 Мбит/с существуют рекомендация по использованию протокола согласования с физическим уровнем PLCP (Physical Layer Convergence Protocol). Он применяется для передачи пакетов данных через городские сети (IEEE 802.6) по каналам PDH. При передаче используется кадр протокола PLCP, который содержит целое число ячеек АТМ и не имеет прямой связи с кадром DS3, в котором он передается. Возможность передачи ячеек по каналам DS3 очень важна, т.к. такие каналы широко распространены. Хотя номинальная скорость канала DS3 составляет 44,736 Мбит/с, полезная скорость передачи ячеек АТМ составляет 40,704 Мбит/с.</p>

<p align=center><image src="image0F4.gif"></p>

<p style='text-indent:20'>Достоинство использования кадров PLCP для передачи ячеек АТМ состоит в том, что может применяться существующее оборудование городских сетей, использующих технологию PDH. Недостаток заключается в том, что к заголовку ячейки добавляется служебная информация кадров PDH и PLCP (четыре байта добавляются к каждой ячейке, расположенной в передаваемой полезной нагрузке; два первых относятся к признаку выделения, третий - порядковый номер ячейки в цикле 125 мкс, а четвертый зарезервирован для функций административного управления). Это снижает полосу пропускания примерно на 9% по сравнению с непосредственной упаковкой ячеек в транспортные кадры. Снижение эффективности передачи происходит за счет того, что ячейки первоначально упаковываются в кадры PLCP, которые затем передаются в поле полезной нагрузки кадров DS3. Извлечение ячеек происходит в обратном порядке – сначала извлекается кадр PLCP, а затем из него – ячейки.</p>


<a  name=mark3><p align=center><b><font color=red size=5><a href='12.htm'>Защита заголовка.</a></b></font></p>

<p style='text-indent:20'>Защита от ошибок происходит с помощью поля НЕС. Математически значение полей НЕС для любого заголовка находится с помощью следующей процедуры:</p>
<ol>
<li> 32 бита первых четырех байтов заголовка используются в качестве коэффициентов полинома М(х) 31-й степени (первый бит соответствует члена х^31, а последний - члену х^0);
<li> Полином М(х) умножается на х^6, а затем делится (по модулю 2) на порождающий полином G(x) = х^8 + х^2 + х + 1;
<li> Полином С(х) = х^6 + х^4 + х^2 + 1 суммируется (по модулю 2) с остатками от деления, и в результате образуется полином R(x), коэффициенты которого формируют 8-битовую последовательность НЕС (пятый байт заголовка). 
</ol>

<p style='text-indent:20'>Построенный таким образом байт обеспечивает расстояние Хемминга, равное четырем, свойства которого позволяют исправлять все одиночные ошибки, а также обнаруживать все двухбитовые ошибки.</p>

<p style='text-indent:20'>Приемник имеет механизм защиты заголовка, работающий в режиме исправления и в режиме обнаружения ошибок (рисунок 4).</p>

<p style='text-indent:20'>1) В режиме исправления ошибок, который является нормальным рабочим режимом, яички с полем НЕС, указывающим на безошибочный синдром, пропускаются на верхние уровни; ячейки, у которых НЕС указывает на одиночную ошибку, пропускаются после исправления ошибки в заголовке, а ячейки с несколькими ошибками уничтожаются.</p>

<p align=center><image src="image0F5.gif"></p>
<p align=center>Рисунок 4.</p>

<p style='text-indent:20'>2) Обнаружение неправильного поля НЕС (одиночны или множественные ошибки) ведет к переходу в режим обнаружения, в котором все ячейки с ошибочным HEС уничтожаются. Наоборот, обнаружение ячейки с правильным НЕС ведет к возврату в режим исправления.</p>

<p align=center><image src="image0F6.gif"></p>
<p align=center>Рисунок 5.</p>

<a  name=mark4><p align=center><b><font color=red size=5><a href='12.htm'>Выделение ячеек.</a></b></font></p>

<p style='text-indent:20'>Функция выделения ячеек может реализовываться разными путями в зависимости от метода, используемого для адаптации скорости передачи битов.</p>

<p style='text-indent:20'>Для случая непрерывного потока ячеек определена функция выделения, независимая от системы передачи. Она основана на обнаружении поля НЕС заголовка ячейки. Использование скремблера улучшает безопасность и устойчивость к внешним воздействиям.</p>

<p style='text-indent:20'>Выделение ячеек основано на использовании поля НЕС, которое защищает первые четыре байта заголовка.</p>

<p style='text-indent:20'>Границы ячеек в непрерывном цифровом потоке обнаруживаются путем нахождения байта, при котором декодирование заголовка даст правильный результат. Эта процедура самовыделения основана на диаграмме конечный состояний, изображенной на рисунке 5.</p>

<p align=center><image src="image0F7.gif"></p>
<p align=center>Рисунок 6.</p>

<p style='text-indent:20'>При поиске границ ячейки проверяются бит за битом, чтобы определить, удовлетворяет ли предлагаемый заголовок правилам кодирования НЕС. При обнаружении границы первой ячейки, определяемой по приему правильного НЕС механизм переходит в состояние предварительной синхронизации. В этом состоянии механизм продолжает проверять применимость правил кодирования НЕС к байтам, в которых могут находиться НЕС.</p>

<p style='text-indent:20'>При последовательном обнаружении числа правильных НЕС разрешается переход в состояние синхронизации, тогда как при обнаружении неправильного НЕС происходит возврат в состояние поиска. В состоянии синхронизации механизм продолжает проверять поля НЕС: при последовательном обнаружении числа  неправильных НЕС происходит возврат в состояние поиска.</p>

<p style='text-indent:20'>Большое число <font size=5>a</font> последовательно анализируемых неправильных НЕС необходимо для принятия решения о потере синхронизации, при этом меньше вероятность принятия ложного решения из-за ошибок передачи. Но чем больше , тем дольше время потери синхронизации.</p>

<p style='text-indent:20'>Вероятность неправильного выделения уменьшается при большом  последовательно анализируемых правильных НЕС, необходимом для принятия решения об установлении синхронизации. Однако чем больше , тем дольше время установления синхронизации.</p>

<p style='text-indent:20'>В зависимости от типа физической среды предлагаются два набора значений:</p>
<lu>
<li><font size=5> a</font> = 7 и  <font size=5>d</font>= 6 в синхронных системах передачи;
<li><font size=5> a</font> = 7 и  <font size=5>d</font>= 8 в системах передачи, основанных на ячейках.
</lu>
<p style='text-indent:20'>При коэффициенте ошибок по битам 10^-6 интервал между двумя потерями синхронизации больше времени передачи 10^30 ячеек.</p>

<a  name=mark5><p align=center><b><font color=red size=5><a href='12.htm'>Скремблирование ячеек.</a></b></font></p>

<p style='text-indent:20'>Для защиты от ложных заголовков, случайных или преднамеренных применяется скремблирование ячеек. Этот способ заключается в сложении последовательности элементов данных по модулю 2 с псевдослучайной последовательностью, образованной полиномиальным генератором. Тип скремблирования зависит от передающей среды.</p>
<ol>
<li> В случае систем, ориентированных на передачу ячеек, все поля в ячейках скремблируются. Во время фазы накопления выделенных ячеек в приемник должна быть передана информация о синхронизации псевдослучайной последовательности. Эта информация содержится в двух битах поля НЕС нескольких ячеек. Во время данной фазы выделение ячеек происходит только по шести битам, что объясняет, почему требуется большее число битов ( = 8), чем при синхронной передаче. Для этого типа скремблирования используется полином х^31 + х^28 + 1.
<li> В случае синхронного физического уровня скремблируется только полезная нагрузка. Хотя такая система более проста, ее недостаток состоит в удвоений ошибок передачи. Здесь выбран полином х^43 + 1.
</ol>

<p align=right><a href='12.htm'>Перейти в начало</a></p>
</b>
</font>
</body>
</html>