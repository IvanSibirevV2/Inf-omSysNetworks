<html>
<body background="fon2.bmp" bgproperties=fixed>
<p align=center><font size="6" face="Arial" color=green><b>Эталонная модель АТМ<br>УРОВЕНЬ АТМ</b></font></p>
<hr>
<font color=navy>
<b>
<font color=black><b>Содержание</b></font>
<font color=blue><b>
<lu>
  <li><a href=#mark1>Функции уровня</a>
  <li><a href=#mark2>Структура заголовка UNI</a>
  <li><a href=#mark3>Структура заголовка NNI</a>
  <li><a href=#mark4>Виртуальный пути и виртуальный канал</a>
  <li><a href=#mark5>Вывод</a>
</lu>
</font>
<font color=navy>
<hr>

<a  name=mark1><p align=center><b><font color=red size=5><a href='11.htm'>Функции уровня АТМ</a></b></font></p>

<p style='text-indent:20'>Функциональная характеристика уровня АТМ дана СС МСЭ в Рек. I.150, а спецификация приведена в Рек. I.361. На уровне АТМ реализуются следующие основные функции:</p>

<lu>
<li> мультиплексирование и демультиплексирование ячеек; 
<li> преобразование идентификаторов виртуальных путей и виртуальных каналов; 
<li> генерация или удаление заголовка ячейки; 
<li> общее управление потоком в интерфейсе "пользователь-сеть".
</lu>

<p style='text-indent:20'>Базовым элементом уровня АТМ является ячейка. Общий вид формата пакета АТМ (ячейки), рекомендованного СС МСЭ для ATM следующий: заголовок ячейки занимает 5 октет, а информационное поле - 48. Передача ячейки в соответствии с Рек. СС МСЭ I.361 осуществляется в следующей последовательности: </p>

<lu>
<li>байты передаются в порядке возрастания, начиная, с 1-го; 
<li>биты внутри байта передаются в убывающем порядке, начиная с 8-го; 
<li>для всех полей ячейки первый бит является наиболее значимым (MSB – Most Significant Bit).
</lu>

<p align=center><image src="image0A1.gif"></p>
<p align=center></b>Рисунок 1<b></p>

<a  name=mark2><p align=center><b><font color=red size=5><a href='11.htm'>Структура заголовка ячейки UNI.</a></b></font></p>

<p style='text-indent:20'>Используемые для широкополосного абонентского доступа ячейки UNI имеют заголовок, несколько отличный от заголовка в интерфейсе между сетями NNI.</p>

<table border=2 align=center>
<tr>
  <td>_7_</td>
  <td>_6_</td>
  <td>_5_</td>
  <td>_4_</td>
  <td>_3_</td>
  <td>_2_</td>
  <td>_1_</td>
  <td>_0_</td>
</tr>
<tr>
  <td colspan=4 align=center><a href=#mark11>GFG</a></td>
  <td colspan=4 align=center><a href=#mark12>VPI</a></td>
</tr>
<tr>
  <td colspan=4 align=center>VPI</td>
  <td colspan=4 align=center><a href=#mark13>VCI</a></td>
</tr>
<tr>
  <td colspan=8 align=center>VCI</td>
</tr>
<tr>
  <td colspan=4 align=center>VCI</td>
  <td colspan=3 align=center><a href=#mark14>PT</a></td>
  <td align=center><a href=#mark15>CLP</a></td>
</tr>
<tr>
  <td colspan=8 align=center><a href=#mark16>HEC</a></td>
</tr>
</table>

<p style='text-indent:20'>Заголовок ячейки UNI содержит следующие поля:</p>

<p style='text-indent:20'><font color=blue><a name=mark11>GFC</font> - Generic Flow Control – поле общего управления потоком состоит из 4-х бит и предназначено согласно Рек. СС МСЭ I.150 для управления нагрузкой в соединениях "пользователь-сеть" с целью защиты от перегрузок как в двухточечных, так и в многоточечных конфигурациях доступа. Поле CFG используется для контроля нагрузки, создаваемой оконечными устройствами пользователя, но не используется для управления потоком, порождаемого сетью;</p>

<p style='text-indent:20'><font color=blue><a name=mark12>VPI</font> - Virtual Path Identifier - идентификатора виртуального пути;</p>

<p style='text-indent:20'><font color=blue><a name=mark13>VCI</font> - Virtual Channel Identifier - идентификатора виртуального канала;</p>

<p style='text-indent:20'><font color=blue><a name=mark14>РТ</font> - Payload Type – поле типа полезной нагрузки используется для идентификации пользовательских ячеек, ячеек эксплуатации и технического обслуживания (ЭТО) и управления ресурсами. Для ячеек, несущих пользовательскую информацию, предусмотрена возможность индикации нагрузки, а также для протокола уровня адаптации АТМ 5-го типа - индикация "пользователь уровня АТМ - пользователю уровня АТМ". Значения поля РТ в заголовке ячейки UNI представлены в таблице 1.</p>

<p style='text-indent:20'><font color=blue><a name=mark15>CLP</font> - Cell Lass Priority – поле приоритета потери ячейки используется для указания явного приоритета потери ячейки. Если в поле приоритета потери ячейки записана 1 (CLP=1), то данная ячейка может быть сетевым узлом отброшена в случае возникновения перегрузок. Если в поле записан 0 (CLP=0), то ячейка имеет высокий приоритет и должна быть сохранена. Приоритет потери ячейки устанавливается пользователем или поставщиком услуг. Ячейки, принадлежащие источникам с постоянной скоростью передачи, всегда должны иметь приоритет по сравнению с источниками с изменяющейся скоростью передачи. В свою очередь при передаче ячеек источника с изменяющейся скоростью передачи части ячеек может присваиваться CLP=1, а части - CLP=0. Это позволяет разделить поток ячеек на два: на поток, который определяет качество обслуживания (CLP=0), и на поток, потеря ячеек которого не очень сказывается на качестве обслуживания (CLP=1). На узлах доступа может осуществляться проверка параметров потока пользователя, а на транзитных узлах - параметров сетевой нагрузки. Если параметры потока будут превышать установленные соглашением, то у части ячеек значение поля приоритета потери ячейки может меняться с 0 на 1. При перегрузках на других узлах эти ячейки могут сбрасываться.</p>

<p style='text-indent:20'><font color=blue><a name=mark16>НЕС</font> - Heder Error Control - поле контроля ошибок в заголовке.</p>

<p align=left>Таблица 1.</p>

<table border=2 align=center>
<tr>
  <td>Кодовая комбинация</td>
  <td>Тип потока</td>
  <td>Индикатор перегрузки</td>
  <td>Тип блока данных</td>
</tr>
<tr>
  <td>000</td>
  <td>0 - пользовательский</td>
  <td>0 – нет перегрузки</td>
  <td>0 Тип 0 блока</td>
</tr>
<tr>
  <td>001</td>
  <td>0 - пользовательский</td>
  <td>0 – нет перегрузки</td>
  <td>1 Тип 1 блока</td>
</tr>
<tr>
  <td>010</td>
  <td>0 - пользовательский</td>
  <td>1 – есть перегрузка</td>
  <td>0 Тип 0 блока </td>
</tr>
<tr>
  <td>011</td>
  <td>0 - пользовательский</td>
  <td>1 – есть перегрузка</td>
  <td>1 Тип 1 блока</td>
</tr>
<tr>
  <td>100</td>
  <td>1 -сетевой</td>
  <td colspan=2>0 – обслуживание (сегмент за сегментом)</td>
</tr>
<tr>
  <td>101</td>
  <td>1 -сетевой</td>
  <td colspan=2>0 – обслуживание (из конца в конец)</td>
</tr>
<tr>
  <td>110</td>
  <td>1 -сетевой</td>
  <td colspan=2>1- административное управление сетевыми ресурсами </td>
</tr>
<tr>
  <td>111</td>
  <td>1 -сетевой</td>
  <td colspan=2>1 - зарезервирован</td>
</tr>
</table>

<a  name=mark3><p align=center><b><font color=red size=5><a href='11.htm'>Структура заголовка ячейки NNI.</a></b></font></p>

<p style='text-indent:20'>Структура заголовка ячейки в сетевом интерфейсе отличается тем, что CFG в сетевом интерфейсе не используется, а биты поля CFG отданы полю идентификатора виртуального канала, длина которого увеличена с 8-ми до 12 бит.</p>

<table border=2 align=center>
<tr>
  <td>_7_</td>
  <td>_6_</td>
  <td>_5_</td>
  <td>_4_</td>
  <td>_3_</td>
  <td>_2_</td>
  <td>_1_</td>
  <td>_0_</td>
</tr>
<tr>
  <td colspan=8 align=center><a href=#mark12>VPI</a></td>
</tr>
<tr>
  <td colspan=4 align=center>VPI</td>
  <td colspan=4 align=center><a href=#mark13>VCI</a></td>
</tr>
<tr>
  <td colspan=8 align=center>VCI</td>
</tr>
<tr>
  <td colspan=4 align=center>VCI</td>
  <td colspan=3 align=center><a href=#mark14>PT</a></td>
  <td align=center><a href=#mark15>CLP</a></td>
</tr>
<tr>
  <td colspan=8 align=center><a href=#mark16>HEC</a></td>
</tr>
</table>

<a  name=mark4><p align=center><b><font color=red size=5><a href='11.htm'>Виртуальные пути и виртуальные каналы</a></b></font></p>


<p style='text-indent:20'>Соединения АТМ идентифицируются в соответствии с двумя уровнями иерархии – виртуального канала и виртуального пути, при этом один виртуальный путь может содержать множество виртуальных каналов (рисунок 3). Эти понятия определены СС МСЭ в Рек. I.113. Виртуальный канал ATM - это соединение между двумя конечными станциями ATM, которое устанавливается на время их взаимодействия. Виртуальный канал является двунаправленным; это означает, что после установления соединения каждая конечная станция может как посылать пакеты другой станции, так и получать их от нее. </p>

<p style='text-indent:20'>Имеются три типа виртуальных каналов:</p>
<ol>
  <li>  постоянные виртуальные каналы (permanent virtual circuits - PVC); 
  <li>  коммутируемые виртуальные каналы (switched virtual circuits - SVC); 
  <li>  интеллектуальные постоянные виртуальные каналы (smart permanent virtual circuits - SPVC).
</ol>

<p style='text-indent:20'><font color=blue>PVC</font> - это постоянное соединение между двумя конечными станциями, которое устанавливается вручную в процессе конфигурирования сети. Пользователь сообщает провайдеру ATM-услуг или сетевому администратору, какие конечные станции должны быть соединены, и он устанавливает PVC между этими конечными станциями.</p>

<p style='text-indent:20'>PVC включает в себя конечные станции, среду передачи и все коммутаторы, расположенные между конечными станциями. После установки PVC для него резервируется определенная часть полосы пропускания, и двум конечным станциям не требуется устанавливать или сбрасывать соединение.</p>

<p style='text-indent:20'><font color=blue>SVC</font> устанавливается по мере необходимости - всякий раз, когда конечная станция пытается передать данные другой конечной станции. Когда отправляющая станция запрашивает соединение, сеть ATM распространяет адресные таблицы и сообщает этой станции, какие VCI и VPI должны быть включены в заголовки ячеек. Через произвольный промежуток времени SVC сбрасывается.</p>

<p style='text-indent:20'>SVC устанавливается динамически, а не вручную. Для него стандарты передачи сигналов уровня ATM определяют, как конечная станция должна устанавливать, поддерживать и сбрасывать соединение.</p>

<p style='text-indent:20'>Кроме того, стандарты передачи сигналов описывают способ управления трафиком и предотвращения "заторов": соединение устанавливается только в том случае, если сеть в состоянии поддерживать это соединение. Процесс определения, может ли быть установлено соединение, называется управлением признанием соединения (connection admission control - CAC).</p>

<p style='text-indent:20'><font color=blue>SPVC</font> - это гибрид PVC и SVC. Подобно PVC, SPVC устанавливается вручную на этапе конфигурирования сети. Однако провайдер ATM-услуг или сетевой администратор задает только конечные станции. Для каждой передачи сеть определяет, через какие коммутаторы будут передаваться ячейки.</p>

<p style='text-indent:20'>PVC имеют два преимущества над SVC. Сеть, в которой используются SVC, должна тратить время на установление соединений, а PVC устанавливаются предварительно, поэтому могут обеспечить более высокую производительность. Кроме того, PVC обеспечивают лучший контроль над сетью, так как провайдер ATM-услуг или сетевой администратор может выбирать путь, по которому будут передаваться ячейки.</p>

<p style='text-indent:20'>Однако и SVC имеют ряд преимуществ перед PVC. Поскольку SVC устанавливается и сбрасывается легче, чем PVC, то сети, использующие SVC, могут имитировать сети без установления соединений. Эта возможность оказывается полезной в том случае, если вы используете приложение, которое не может работать в сети с установлением соединений. Кроме того, SVC используют полосу пропускания, только когда это необходимо, а PVC должны постоянно ее резервировать на тот случай, если она понадобится. SVC также требуют меньшей административной работы, поскольку устанавливаются автоматически, а не вручную. И, наконец, SVC обеспечивают отказоустойчивость: когда выходит из строя коммутатор, находящийся на пути соединения, другие коммутаторы выбирают альтернативный путь.</p>

<p style='text-indent:20'>В некотором смысле SPVC обладает лучшими свойствами этих двух видов виртуальных каналов. Как и в случае с PVC, SPVC позволяет заранее задать конечные станции, поэтому им не приходится тратить время на установление соединения каждый раз, когда одна из них должна передать ячейки. Подобно SVC, SPVC обеспечивает отказоустойчивость. Однако и SPVC имеет свои недостатки: как и PVC, SPVC устанавливается вручную, и для него необходимо резервировать часть полосы пропускания - даже если он не используется.</p>

<p style='text-indent:20'>Стандарты установления соединения для уровня ATM также определяют виртуальные пути (virtual path). В то время как виртуальный канал - это соединение, установленное между двумя конечными станциями на время их взаимодействия, виртуальный путь - это путь между двумя коммутаторами, который существует постоянно, независимо от того, установлено ли соединение. Другими словами, виртуальный путь - это "запомненный" путь, по которому проходит весь трафик от одного коммутатора к другому.</p>

<p align=center><image src="image0A2.gif"></p>
<p align=center>Рисунок 2.</p>

<p style='text-indent:20'>Любой маршрут образуется двумя типами соединений: соединением виртуального пути и соединением виртуального канала (рисунок 4). Каждое соединение является каскадным соединением виртуальных каналов и путей. Иерархия идентификаторов (VPI и VCI) повлияла на режимы работы коммутаторов АТМ. Различают два режима работы – коммутации виртуального пути и коммутации виртуального канала. В первом режиме коммутатор выполняет продвижение ячейки только на основании значения поля VPI, а значение поля VCI он игнорирует. Обычно так работают магистральные коммутаторы территориальных сетей. Они доставляют ячейки из одной сети пользователя в другую на основании только старшей части номера виртуального канала. В результате один виртуальный путь соответствует целому набору виртуальных каналов, коммутируемых как единое целое.</p>

<p style='text-indent:20'>После доставки ячейки сеть АТМ ее коммутаторы начинают коммутировать ячейки с учетом как VPI, так и VCI, но при этом им хватает для коммутации только младшей части номера виртуального соединения, так что фактически они работают с VCI, оставляя VPI без изменения. Последний режим называется режимом коммутации виртуального канала.</p>

<p align=center><image src="image0A3.gif"></p>
<p align=center>Рисунок 3.</p>

<p style='text-indent:20'>На данном уровне происходит также и мультиплексирование ячеек. С целью повышения эффективности использования пропускной способности канала реализуется, так называемое, асинхронное мультиплексирование с временным разделением (АМВР). В этом случае абонентам выделяются временные промежутки только в момент непосредственной передачи информации, т.е. последовательность предоставления линий для отдельных узлов не определена. Любой узел может использовать каждый следующий свободный интервал. Таким образом, пропускная способность линий связи может быть полностью использована, даже если передачу в данный момент осуществляют не все узлы сети.</p> 

<p style='text-indent:20'><a  name=mark5>Итак, уровень АТМ предоставляет следующий вид сервиса:</p>
<ol>
<li> При ретрансляции ячеек в режиме с соединениями сохраняется порядок следования передаваемых ячеек;
<li> Сервис обеспечивается независимо от синхрочастоты источника нагрузки. Однако это преимущество предполагает, что в потоке не поступает в явном виде информация о синхрочастоте источника. Кроме того, этот асинхронизм, вызываемый наличием очередей в сети, вносит переменные задержки при распространении, которые могут вызвать джиттер ячеек до 0,1 мс;
<li> Не производится управление потоком. При необходимости оно может быть добавлено на верхних уровнях (приложений пользователя);
<li> Уровень АТМ полностью прозрачен для полезной нагрузки ячеек. Он не изменяет их содержания, но и не предоставляет средств для проверки их целостности. Кроме того, если ошибочно исправлена ошибка передачи, относящаяся к заголовку (при наличии множественных ошибок), появляется риск имитации правильного логического идентификатора и, как следствие, введение ячейки в этот логический канал. Наоборот, если исправляющая способность поля НЕС превышена, то ячейки могут быть потеряны, случается также при перегрузке сетевых очередей.
</ol>

<p align=right><a href='11.htm'>Перейти в начало</a></p>
</b>
</font>
</body>
</html>